import { ref } from 'vue'

export const allCards = ref([
  {
    cardKey: '01',
    cardTitle: 'Mountebank',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a01.jpg',
    modality: 'Mutable',
    element: 'Air',
    planet: 'Mercury',
    sign: 'Gemini',
  },
  {
    cardKey: '02',
    cardTitle: 'Popess',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a02.jpg',
    modality: 'Cardinal',
    element: 'Water',
    planet: 'Luna',
    sign: 'Cancer',
  },
  {
    cardKey: '03',
    cardTitle: 'Empress',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a03.jpg',
    modality: 'Cardinal',
    element: 'Air',
    planet: 'Venus',
    sign: 'Libra',
  },
  {
    cardKey: '04',
    cardTitle: 'Emperor',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a04.jpg',
    modality: 'Cardinal',
    element: 'Fire',
    planet: 'Mars',
    sign: 'Aries',
  },
  {
    cardKey: '05',
    cardTitle: 'Pope',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a05.jpg',
    modality: 'Cardinal',
    element: 'Earth',
    planet: 'Saturn',
    sign: 'Capricorn',
  },
  {
    cardKey: '06',
    cardTitle: 'Lovers',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a06.jpg',
    modality: '',
    element: '',
    planet: 'Venus',
    sign: 'Libra, Taurus',
  },
  {
    cardKey: '07',
    cardTitle: 'Chariot',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a07.jpg',
    modality: 'Fixed',
    element: 'Air',
    planet: '',
    sign: '',
  },
  {
    cardKey: '08',
    cardTitle: 'Justice',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a08.jpg',
    modality: '',
    element: '',
    planet: 'Jupiter',
    sign: 'Pisces, Sagittarius',
  },
  {
    cardKey: '09',
    cardTitle: 'Hermit',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a09.jpg',
    modality: 'Fixed',
    element: 'Water',
    planet: 'Mars',
    sign: 'Scorpio',
  },
  {
    cardKey: '10',
    cardTitle: 'Wheel',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a10.jpg',
    modality: 'Mutable',
    element: 'Water',
    planet: '',
    sign: '',
  },
  {
    cardKey: '11',
    cardTitle: 'Force',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a11.jpg',
    modality: 'Mutable',
    element: 'Fire',
    planet: 'Jupiter',
    sign: 'Sagittarius',
  },
  {
    cardKey: '12',
    cardTitle: 'Hanged Man',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a12.jpg',
    modality: '',
    element: '',
    planet: 'Mercury',
    sign: 'Virgo, Gemini',
  },
  {
    cardKey: '13',
    cardTitle: 'Death',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a13.jpg',
    modality: '',
    element: 'Earth',
    planet: 'Saturn',
    sign: 'Aquarius, Capricorn',
  },
  {
    cardKey: '14',
    cardTitle: 'Temperance',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a14.jpg',
    modality: 'Mutable',
    element: 'Earth',
    planet: 'Mercury',
    sign: 'Virgo',
  },
  {
    cardKey: '15',
    cardTitle: 'Devil',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a15.jpg',
    modality: 'Fixed',
    element: 'Earth',
    planet: 'Venus',
    sign: 'Taurus',
  },
  {
    cardKey: '16',
    cardTitle: 'Tower',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a16.jpg',
    modality: '',
    element: '',
    planet: 'Mars',
    sign: 'Aries, Scorpio',
  },
  {
    cardKey: '17',
    cardTitle: 'Star',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a17.jpg',
    modality: 'Fixed',
    element: 'Fire',
    planet: 'Sol',
    sign: 'Leo',
  },
  {
    cardKey: '18',
    cardTitle: 'Moon',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a18.jpg',
    modality: '',
    element: '',
    planet: 'Luna',
    sign: 'Cancer',
  },
  {
    cardKey: '19',
    cardTitle: 'Sun',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a19.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: 'Leo',
  },
  {
    cardKey: '20',
    cardTitle: 'Judgement',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a20.jpg',
    modality: 'Mutable',
    element: 'Water',
    planet: 'Jupiter',
    sign: 'Pisces',
  },
  {
    cardKey: '21',
    cardTitle: 'World',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a21.jpg',
    modality: 'Fixed',
    element: 'Air',
    planet: 'Saturn',
    sign: 'Aquarius',
  },
  {
    cardKey: '22',
    cardTitle: 'Le Mat',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_a22.jpg',
    modality: 'Cardinal',
    element: 'Fire',
    planet: '',
    sign: '',
  },
  {
    cardKey: 'Z01',
    cardTitle: 'Copyright',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_z01.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: 'Z00',
    cardTitle: 'Blank Card',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_z00.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '1W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b01.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '2W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b02.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '3W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b03.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '4W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b04.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '5W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b05.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '6W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b06.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '7W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b07.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '8W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b08.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '9W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b09.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '10W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b10.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '11W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b11.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '12W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b12.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '13W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b13.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '14W',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_b14.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '1C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c01.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '2C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c02.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '3C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c03.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '4C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c04.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '5C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c05.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '6C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c06.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '7C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c07.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '8C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c08.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '9C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c09.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '10C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c10.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '11C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c11.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '12C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c12.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '13C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c13.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '14C',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_c14.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '1D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d01.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '2D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d02.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '3D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d03.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '4D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d04.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '5D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d05.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '6D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d06.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '7D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d07.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '8D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d08.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '9D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d09.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '10D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d10.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '11D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d11.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '12D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d12.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '13D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d13.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '14D',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_d14.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '1S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e01.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '2S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e02.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '3S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e03.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '4S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e04.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '5S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e05.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '6S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e06.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '7S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e07.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '8S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e08.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '9S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e09.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '10S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e10.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '11S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e11.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '12S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e12.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '13S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e13.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
  {
    cardKey: '14S',
    cardTitle: '',
    image: 'https://madamadam.s3.us-east-2.amazonaws.com/ToM_e14.jpg',
    modality: '',
    element: '',
    planet: '',
    sign: '',
  },
])

export function getCardFor(aCardKey) {
  const foundCard
        = allCards.value.find(card =>
          card.cardKey.toLowerCase()
                  === aCardKey.toLowerCase(),
        )

  return foundCard
}

export function getCardTitleForKey(aCardKey) {
  const foundCard = getCardFor(aCardKey)

  if (foundCard)
    return foundCard.cardTitle
  else
    return ''
}

export function getCardKeyForTitle(aCardTitle) {
  const foundCard
        = allCards.value.find(card =>
          card.cardTitle.toLowerCase()
                  === aCardTitle.toLowerCase(),
        )

  if (foundCard)
    return foundCard.cardKey
  else
    return ''
}

export function getImageForCardKey(aCardKey) {
  return getCardFor(aCardKey).image
}

export function getTitleForCardKey(aCardKey) {
  return getCardFor(aCardKey).cardTitle
}

export function hasCardKey(aCardKey) {
  return getCardFor(aCardKey) !== undefined
}

export function getPotentialMatchesFor(cardTitle) {
  const thaCard = getCardFor(getCardKeyForTitle(cardTitle))

  if (!thaCard)
    return 'no matches found'

  const matches = []

  for (const card of allCards.value) {
    if (card.cardKey !== thaCard.cardKey) {
      // modality
      if (card.modality.trim()
        && card.modality === thaCard.modality)
        matches.push(getCardTitleForKey(card.cardKey))
      // element
      if (card.element.trim()
        && card.element === thaCard.element)
        matches.push(getCardTitleForKey(card.cardKey))
      // planet
      if (card.planet.trim()
        && card.planet === thaCard.planet)
        matches.push(getCardTitleForKey(card.cardKey))
      // sign
      if (card.sign.trim()) {
        // just need to make sure whichever doesn't have
        // a comma is tested for being inside the one
        // that MIGHT have a comma (doesn't matter if it does
        // just need to make sure the other one doesn't)

        if (card.sign.includes(',')) {
          if (thaCard.sign.trim()
            && card.sign.includes(thaCard.sign))
            matches.push(getCardTitleForKey(card.cardKey))
        }
        else {
          if (card.sign.trim()
            && thaCard.sign.includes(card.sign))
            matches.push(getCardTitleForKey(card.cardKey))
        }
      }
    }
  }

  if (!matches || matches.length < 1)
    return 'no matches found'

  // remove duplicates
  const unique = [...new Set(matches)]

  return unique.join(', ')
}
